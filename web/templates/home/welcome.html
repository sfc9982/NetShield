<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{ title }}-主页</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='lib/layui-v2.5.4/css/layui.css') }}" media="all">
    <link rel="stylesheet" href="{{ url_for('static', filename='lib/font-awesome-4.7.0/css/font-awesome.min.css') }}"
          media="all">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/public.css') }}" media="all">
</head>
<style>
    .layui-top-box {
        padding: 40px 20px 20px 20px;
        color: #fff
    }

    .panel {
        margin-bottom: 17px;
        background-color: #fff;
        border: 1px solid transparent;
        border-radius: 3px;
        -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .05);
        box-shadow: 0 1px 1px rgba(0, 0, 0, .05)
    }

    .panel-body {
        padding: 15px
    }

    .panel-title {
        margin-top: 0;
        margin-bottom: 0;
        font-size: 14px;
        color: inherit
    }

    .label {
        display: inline;
        padding: .2em .6em .3em;
        font-size: 75%;
        font-weight: 700;
        line-height: 1;
        color: #fff;
        text-align: center;
        white-space: nowrap;
        vertical-align: baseline;
        border-radius: .25em;
        margin-top: .3em;
    }

    .layui-red {
        color: red
    }

    .main_btn > p {
        height: 40px;
    }
</style>
<body>
<div class="layuimini-container">
    <div class="layuimini-main layui-top-box">
        <div class="layui-row layui-col-space10">

            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>待web漏洞扫描统计</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins">{{ count.Vulnerabilitie_count }}</h1>
                                <div class="stat-percent font-bold text-gray"><i class="fa fa-commenting"></i> {{ count.Vulnerabilitie_count }}
                                </div>
                                <small>当前分类总记录数</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-blue">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-cyan">实时</span>
                                <h5>子域名统计</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins">{{ count.subdomain_count }}</h1>
                                <div class="stat-percent font-bold text-gray"><i class="fa fa-commenting"></i> {{
                                    count.subdomain_count }}
                                </div>
                                <small>当前分类总记录数</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-green">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-orange">实时</span>
                                <h5>端口统计</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins">{{ count.ports_count }}</h1>
                                <div class="stat-percent font-bold text-gray"><i class="fa fa-commenting"></i> {{ count.ports_count }}
                                </div>
                                <small>当前分类总记录数</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-orange">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-green">实时</span>
                                <h5>URL统计</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins">{{ count.url_count }}</h1>
                                <div class="stat-percent font-bold text-gray"><i class="fa fa-commenting"></i> {{ count.url_count }}
                                </div>
                                <small>当前分类总记录数</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="layui-box">
        <div class="layui-row layui-col-space10">
            <div class="layui-col-md12">
                <blockquote class="layui-elem-quote main_btn">
                    <p>Bayonet结合了<a href="https://github.com/shmilylty/OneForAll" target="_blank">oneforall</a>工具进行子域名扫描、
                        <a href="https://www.shodan.io/" target="_blank">shodan</a>+nmap进行查询端口服务信息、
                        <a href="https://github.com/0Kee-Team/crawlergo" target="_blank">crawlergo</a>工具进行动态爬虫、
                        <a href="https://github.com/w-digital-scanner/w13scan" target="_blank">w13scan</a>进行漏洞扫描。</p>
                    <p><a href="https://github.com/CTF-MissFeng/bayonet" target="_blank">Bayonet-GitHub项目地址</a></p>
                    <p>作者QQ:1767986993（加好友请备注来源：bayonet）</p>
                    <p class="layui-red">备注：请勿使用此工具进行非法扫描，本人将不承担法律责任。</p>
                </blockquote>
            </div>
        </div>
    </div>
    <div class="layui-box">
        <div class="layui-row layui-col-space10">
            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
                <legend>说明</legend>
            </fieldset>
            <div class="layui-collapse" lay-accordion="">
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">为什么设计Bayonet这款工具？</h2>
                    <div class="layui-colla-content layui-show">
                        <p>在常规的SRC漏洞挖掘中，通常会耗费大量时间进行信息收集，且手工渗透测试也不足以测试全部范围，故设计了该工具协助漏洞挖掘。</p>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">Bayonet不足之处</h2>
                    <div class="layui-colla-content">
                        <p>
                            Bayonet不能代替渗透测试工作，只是作为协助工具，通过驱动浏览器爬虫抓到的链接只是未登录数据，无法测试登录后的系统</p>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">安装说明</h2>
                    <div class="layui-colla-content">
                        <p>安装教程请参考GitHub说明，推荐采用服务器ubuntu系统进行安装，这样可进行后台持续性扫描</p>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">w13scan扫描慢？</h2>
                    <div class="layui-colla-content">
                        <p>
                            当爬虫工具爬取完后，脚本会读取爬虫结果解析成HTTP原始请求发送到w13scan中，考虑到不能一直发生请求，需要判断w13scan的进度，默认设置为当前进度超过10条则等待，防止w13scan内存过大。</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
        <legend>开发时间线</legend>
    </fieldset>
    <ul class="layui-timeline">
        <li class="layui-timeline-item">

        <li class="layui-timeline-item">
            <i class="layui-icon layui-timeline-axis"></i>
            <div class="layui-timeline-content layui-text">
                <h3 class="layui-timeline-title">2020年3月16日</h3>
                <p>bayonet V1.2版本完成。添加并完善了</p>
                <p>1、去除w13scan被动扫描器，添加xray被动扫描器</p>
                <p>2、主域名任务可重复扫描</p>
                <p>3、修复BUG</p>
            </div>
        </li>

        <li class="layui-timeline-item">
            <i class="layui-icon layui-timeline-axis"></i>
            <div class="layui-timeline-content layui-text">
                <h3 class="layui-timeline-title">2020年3月04日</h3>
                <p>bayonet V1.1版本完成。添加并完善了：</p>
                <p>1：加入了WAF和CDN识别，进行自动跳过，节约了扫描时间</p>
                <p>2：加入了异步socket常规端口探测功能、nmap探测功能、防止shodan探测不完整</p>
                <p>3：数据表进行了关联，新增且优化了web页面设计</p>
                <p>4：爬虫采集到的子域名再次入库，URL探测支持二级目录扫描</p>
                <p>5：子域名、端口扫描、URL扫描、爬虫模块整合到一个项目以便关联</p>
                <p>6：修复了一些bug</p>
                <p>尚未添加功能：</p>
                <p>xray扫描器</p>
                <p>端口服务漏洞扫描</p>
            </div>
        </li>

        <li class="layui-timeline-item">
            <i class="layui-icon layui-timeline-axis"></i>
            <div class="layui-timeline-content layui-text">
                <h3 class="layui-timeline-title">2020年2月13日</h3>
                <p>bayonet V1.0版本完成，基本连接了这几个工具模块到一起。</p>
            </div>
        </li>

        <i class="layui-icon layui-timeline-axis"></i>
        <div class="layui-timeline-content layui-text">
            <h3 class="layui-timeline-title">2020年2月12日</h3>
            <p>
                大体框架完成，之前本想把所有工具模块内置到一个项目中，由启动flask时启动所有工具模块，但是一个模块出错了不方便重新运行，所以把工具模块单独分离出来。
            </p>
            <p>把工具模块分离出来不再和flask交互，只和数据库交互，大大提高了添加新模块的方便。</p>>
        </div>

        </li>
        <li class="layui-timeline-item">
            <i class="layui-icon layui-timeline-axis"></i>
            <div class="layui-timeline-content layui-text">
                <h3 class="layui-timeline-title">2020年2月10日</h3>
                <p>开始编写web端，采用flask作为web框架（因为简单）</p>
                <p>套了一个前端框架layui，不会前端的也能用，感谢layui作者</p>
            </div>
        </li>
        <li class="layui-timeline-item">
            <i class="layui-icon layui-timeline-axis"></i>
            <div class="layui-timeline-content layui-text">
                <h3 class="layui-timeline-title">2020年2月9日</h3>
                <p>
                    看到了大佬写的crawlergo结合长亭xray扫描器进行自动化扫描的文章，萌生了此想法
                    <br>1、批量化扫描最重要的是信息的收集，而子域名就很重要的，想过结合rapid7公开的DNS数据作为基础查询，但是数据量太大（几百G数据），所以用oneforall工具进行在线收集。
                    <br>2、端口的收集：想过用masscan+nmap方式进行收集，但是效率太慢。果断结合shodan进行host收集。
                    <br>3、爬虫采集：这也是非常重要的，目前的被动扫描根本满足不了，想过用burp工具里的主动扫描(burp最新版内置了驱动浏览器，可主动采集URL)，最后用了crawlergo工具
                    <br>4、被动漏洞扫描：将爬虫采集的数据发送到被动漏洞器，目前看了下就w13scan和xray比较好，都用了下，这里选择了w13scan作为扫描器（因为开源）
                </p>
            </div>
        </li>
    </ul>

</div>
<script src="{{ url_for('static', filename='lib/layui-v2.5.4/layui.js') }}" charset="utf-8"></script>
<script>
    layui.use(['element', 'layer'], function () {
        var element = layui.element;
        var layer = layui.layer;

        //监听折叠
        element.on('collapse(test)', function (data) {
            layer.msg('展开状态：' + data.show);
        });
    });
</script>
</body>
</html>